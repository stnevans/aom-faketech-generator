"""
<gadget name="FakeTechTree-Loki" type="gadget" size1024="0 0 1024 768" hidden="">
<gadget name="FakeTechTree-Loki-TechNode-Loki" type="button" size1024="174 23 232 81">Age 1 Loki</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Spy GP" type="button" size1024="240 34 272 66">Spy</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Eyes in the Forest" type="button" size1024="284 34 316 66">Eyes in the Forest</gadget>
<gadget name="FakeTechTree-Loki-TechNode-FORSETI" type="button" size1024="407 23 463 79">Age 2 Forseti</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Healing Spring GP" type="button" size1024="474 23 506 55">Healing Spring</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Troll" type="button" size1024="514 22 546 54">Troll</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hammartroll" type="button" size1024="554 23 586 55">Hamarrtroll</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hall of Thanes" type="button" size1024="474 64 506 96">Hall of Thanes</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Mithril Breastplate" type="button" size1024="513 64 545 96">Mithril Breastplate</gadget>
<gadget name="FakeTechTree-Loki-TechNode-HEIMDALL" type="button" size1024="407 113 463 169">Age 2 Heimdall</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Undermine GP" type="button" size1024="475 110 507 142">Undermine</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Einherjar" type="button" size1024="514 111 546 143">Einheriar</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Elhrimnir Kettle" type="button" size1024="554 112 586 144">Eldhrimnir Kettle</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Safeguard" type="button" size1024="474 153 506 185">Safeguard</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Arctic Winds" type="button" size1024="513 153 545 185">Arctic Winds</gadget>
<gadget name="FakeTechTree-Loki-TechNode-NJORD" type="button" size1024="614 113 670 169">Age 3 Njord</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Kraken" type="button" size1024="759 111 791 143">Kraken</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Mountain Giant" type="button" size1024="719 111 751 143">Mountain Giant</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Walking Woods GP" type="button" size1024="679 111 711 143">Walking Woods</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Wrath of the Deep" type="button" size1024="759 153 791 185">Wrath of the Deep</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Long Serpent" type="button" size1024="679 154 711 186">Long Serpent</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Ring-giver" type="button" size1024="719 153 751 185">Ring giver</gadget>
<gadget name="FakeTechTree-Thor-TechNode-BRAGI" type="button" size1024="614 23 670 79">Age 3 Bragi</gadget>
<gadget name="FakeTechTree-Thor-TechNode-Battle Boar" type="button" size1024="719 21 751 53">Battle Boar</gadget>
<gadget name="FakeTechTree-Thor-TechNode-Flaming Weapons GP" type="button" size1024="679 23 711 55">Flaming Weapons</gadget>
<gadget name="FakeTechTree-Thor-TechNode-Call of Valhalla" type="button" size1024="759 23 791 55">Call of Valhalla</gadget>
<gadget name="FakeTechTree-Thor-TechNode-Swine Array" type="button" size1024="679 64 711 96">Swine Array</gadget>
<gadget name="FakeTechTree-Thor-TechNode-Rune of Thurz" type="button" size1024="719 64 751 96">Thurisaz Rune</gadget>
<gadget name="FakeTechTree-Loki-TechNode-HEL" type="button" size1024="821 23 877 79">Age 4 Hel</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Fire Giant" type="button" size1024="927 22 959 54">Fire Giant</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Frost Giant" type="button" size1024="966 21 998 53">Frost Giant</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Mountain Giant" type="button" size1024="885 64 917 96">Mountain Giant</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Nidhogg GP" type="button" size1024="886 21 918 53">Nidhogg</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Granite Blood" type="button" size1024="965 63 997 95">Granite Blood</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Rampage" type="button" size1024="926 64 958 96">Rampage</gadget>
<gadget name="FakeTechTree-Loki-TechNode-TYR" type="button" size1024="821 113 877 169">Age 4 Tyr</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Fenris Wolf" type="button" size1024="927 113 959 145">Fenris Wolf</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Jormund Brood" type="button" size1024="966 111 998 143">Jormund Elver</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Fimbul GP" type="button" size1024="886 112 918 144">Snow Storm</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Berserkergang" type="button" size1024="887 155 919 187">Berserkergang</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Bravery" type="button" size1024="926 155 958 187">Bravery</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Ox Cart" type="button" size1024="24 299 56 331">Ox Cart</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Husbandry" type="button" size1024="65 298 97 330">Husbandry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hunting Dogs" type="button" size1024="104 299 136 331">Hunting Dogs</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Plow" type="button" size1024="254 298 286 330">Plow</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Irrigation" type="button" size1024="558 298 590 330">Irrigation</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Flood Control" type="button" size1024="845 299 877 331">Flood Control</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hand Axe" type="button" size1024="144 297 176 329">Hand Axe</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Bow Saw" type="button" size1024="295 298 327 330">Bow Saw</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Carpenters" type="button" size1024="598 298 630 330">Carpenters</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Pickaxe" type="button" size1024="185 298 217 330">Pickaxe</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Shaft Mine" type="button" size1024="335 298 367 330">Shaft Mine</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Quarry" type="button" size1024="637 299 669 331">Quarry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-TC" type="button" size1024="24 255 56 287">Settlement Level 1</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Villager" type="button" size1024="65 257 97 289">Villager Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Dwarf" type="button" size1024="106 257 138 289">Dwarf</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Ulfsark" type="button" size1024="146 257 178 289">Ulfsark</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Ox Cart" type="button" size1024="186 257 218 289">Ox Cart</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Masons" type="button" size1024="255 255 287 287">Masons</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Architecture" type="button" size1024="557 255 589 287">Architects</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Fortify TC" type="button" size1024="597 255 629 287">Fortify Town Center</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Dock" type="button" size1024="24 340 56 372">Dock</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Fishing Ship" type="button" size1024="64 340 96 372">Fishing Ship Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Transport" type="button" size1024="296 339 328 371">Transport Ship Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Kebenit" type="button" size1024="255 339 287 371">Longboat</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hammmer Ship" type="button" size1024="557 339 589 371">Ramming Ship Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Siege Ship" type="button" size1024="597 340 629 372">Siege Ship Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Purse Seine" type="button" size1024="335 339 367 371">Purse Seine</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Salt Amphora" type="button" size1024="636 340 668 372">Salt Amphora</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Enclosed Deck" type="button" size1024="375 340 407 372">Enclosed Deck</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Heroic Fleet" type="button" size1024="415 340 447 372">Heroic Fleet</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Cladding" type="button" size1024="677 340 709 372">Cladding</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Naval Oxybeles" type="button" size1024="885 339 918 371">Naval Oxybeles</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Conscript Sailors" type="button" size1024="925 340 957 372">Conscript Sailors</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Reinforced Hull" type="button" size1024="845 340 877 372">Reinforced Hull</gadget>
<gadget name="FakeTechTree-Loki-TechNode-House" type="button" size1024="25 424 57 456">House</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Farm" type="button" size1024="255 424 287 456">Farm</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Wall" type="button" size1024="25 382 57 414">Wall Connector</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Stone Wall" type="button" size1024="254 381 286 413">Stone Wall</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Tower" type="button" size1024="255 507 287 539">Tower</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Signal Fires" type="button" size1024="295 507 327 539">Signal Fires</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Crenellations" type="button" size1024="374 509 406 541">Crenellations</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Watch Tower" type="button" size1024="334 506 366 538">Watch Tower</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Carrier Pigeons" type="button" size1024="557 508 589 540">Carrier Pigeons</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Boiling Oil" type="button" size1024="597 508 629 540">Boiling Oil</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Market" type="button" size1024="557 632 589 664">Market</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Caravan Egyptian" type="button" size1024="598 632 630 664">Caravan Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Ambassadors" type="button" size1024="637 631 669 663">Ambassadors</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Coinage" type="button" size1024="846 633 878 665">Coinage</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Tax Collectors" type="button" size1024="676 632 708 664">Tax Collectors</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Temple" type="button" size1024="25 467 57 499">Temple</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hersir" type="button" size1024="65 466 97 498">Hero Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Temple" type="button" size1024="845 382 877 414">Temple</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Omniscience" type="button" size1024="885 382 918 414">Omniscience</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hill Fort" type="button" size1024="558 675 590 705">Hill Fort</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Huskarl" type="button" size1024="598 674 630 706">Huskarl</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Jarl" type="button" size1024="638 674 670 706">Jarl</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Bogsveigir" type="button" size1024="678 674 710 706">Bogsveigir</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Portable Ram" type="button" size1024="718 674 750 706">Portable Ram</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Levy Hill Fort" type="button" size1024="758 674 790 706">Levy Hill Fort Soldiers</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Ballista" type="button" size1024="846 674 878 706">Ballista</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Conscript Hill Fort" type="button" size1024="886 674 918 706">Conscript Hill Fort Soldiers</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Medium Infantry" type="button" size1024="598 712 630 744">Medium Infantry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Heavy Infantry" type="button" size1024="638 712 670 744">Heavy Infantry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Medium Cavalry" type="button" size1024="678 712 710 744">Medium Cavalry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Heavy Cavalry" type="button" size1024="718 712 750 744">Heavy Cavalry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Draft Horses" type="button" size1024="758 712 790 744">Draft Horses</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Champion Infantry" type="button" size1024="848 712 880 744">Champion Infantry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Champion Cavalry" type="button" size1024="888 712 920 744">Champion Cavalry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Engineers" type="button" size1024="928 712 960 744">Engineers</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Longhouse" type="button" size1024="255 465 287 497">Longhouse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Ulfsark" type="button" size1024="295 466 327 498">Ulfsark</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Throwing Axeman" type="button" size1024="336 467 368 499">Throwing Axeman</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Raiding Cavalry" type="button" size1024="374 467 406 499">Raiding Cavalry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Hersir" type="button" size1024="415 467 447 499">Hero Norse</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Medium Infantry" type="button" size1024="455 466 487 498">Medium Infantry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Heavy Infantry" type="button" size1024="556 466 588 498">Heavy Infantry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Champion Infantry" type="button" size1024="845 465 877 497">Champion Infantry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Medium Cavalry" type="button" size1024="495 466 527 498">Medium Cavalry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Heavy Cavalry" type="button" size1024="598 466 630 498">Heavy Cavalry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Champion Cavalry" type="button" size1024="885 466 917 498">Champion Cavalry</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Levy Longhouse" type="button" size1024="638 465 670 497">Levy Longhouse Soldiers</gadget>
<gadget name="FakeTechTree-Loki-TechNode-AxeofMuspell" type="button" size1024="678 466 710 498">Axe of Muspell</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Conscript Longhouse" type="button" size1024="925 466 957 498">Conscript Longhouse Soldiers</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Armory" type="button" size1024="254 549 286 581">Armory</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Copper Wpn" type="button" size1024="296 548 328 580">Copper Weapons</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Bronze Wpn" type="button" size1024="558 550 590 582">Bronze Weapons</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Iron Wpn" type="button" size1024="846 550 878 581">Iron Weapons</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Copper Mail" type="button" size1024="335 550 367 582">Copper Mail</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Bronze Mail" type="button" size1024="597 549 629 581">Bronze Mail</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Iron Mail" type="button" size1024="885 550 917 582">Iron Mail</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Copper Shields" type="button" size1024="376 549 408 581">Copper Shields</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Bronze Shields" type="button" size1024="637 549 669 581">Bronze Shields</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Iron Shields" type="button" size1024="925 550 957 582">Iron Shields</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Burning Pitch" type="button" size1024="965 550 997 582">Burning Pitch</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Wonder" type="button" size1024="845 424 877 456">Wonder</gadget>
<gadget name="FakeTechTree-Loki-TechNode-Titan" type="button" size1024="886 424 918 456">Secrets of the Titans</gadget>
<gadget name="LokiBackground" type="gadget" size1024="0 0 1024 768" z="1">
    <gadget name="LokiBackground1" type="gadget" size1024="0 0 256 256" background="UI\techTreeLoki1" clampbackground=""></gadget>
    <gadget name="LokiBackground2" type="gadget" size1024="256 0 512 256" background="UI\techTreeLoki2" clampbackground=""></gadget>
    <gadget name="LokiBackground3" type="gadget" size1024="512 0 768 256" background="UI\techTreeLoki3" clampbackground=""></gadget>
    <gadget name="LokiBackground4" type="gadget" size1024="768 0 1024 256" background="UI\techTreeLoki4" clampbackground=""></gadget>
    <gadget name="LokiBackground5" type="gadget" size1024="0 256 256 512" background="UI\techTreeLoki5" clampbackground=""></gadget>
    <gadget name="LokiBackground6" type="gadget" size1024="256 256 512 512" background="UI\techTreeLoki6" clampbackground=""></gadget>
    <gadget name="LokiBackground7" type="gadget" size1024="512 256 768 512" background="UI\techTreeLoki7" clampbackground=""></gadget>
    <gadget name="LokiBackground8" type="gadget" size1024="768 256 1024 512" background="UI\techTreeLoki8" clampbackground=""></gadget>
    <gadget name="LokiBackground9" type="gadget" size1024="0 512 256 768" background="UI\techTreeLoki9" clampbackground=""></gadget>
    <gadget name="LokiBackground10" type="gadget" size1024="256 512 512 768" background="UI\techTreeLoki10" clampbackground=""></gadget>
    <gadget name="LokiBackground11" type="gadget" size1024="512 512 768 768" background="UI\techTreeLoki11" clampbackground="" clampforeground=""></gadget>
    <gadget name="LokiBackground12" type="gadget" size1024="768 512 1024 768" background="UI\techTreeLoki12" clampbackground=""></gadget>
</gadget>
<gadget name="NorseLegendLoki" type="gadget" z="20" size1024="0 0 30 30">
    <gadget name="NorseLegend-Building" type="formatText" textfont="TechTree" textfontsize="11" textcolor="255 255 255" size1024="163 620 268 640" z="17">$$19159$$Building</gadget>
    <gadget name="NorseLegend-Unit" type="formatText" textfont="TechTree" textfontsize="11" textcolor="255 255 255" size1024="163 651 268 671" z="17">$$19160$$Unit</gadget>
    <gadget name="NorseLegend-Improvement" type="formatText" textfont="TechTree" textfontsize="11" textcolor="255 255 255" size1024="163 681 268 701" z="17">$$19161$$Improvement</gadget>
    <gadget name="NorseLegend-God" type="formatText" textfont="TechTree" textfontsize="11" textcolor="255 255 255" size1024="48 620 163 640" z="17">$$19162$$God</gadget>
    <gadget name="NorseLegend-God Power" type="formatText" textfont="TechTree" textfontsize="11" textcolor="255 255 255" size1024="48 651 163 671" z="17">$$19163$$God Power</gadget>
    <gadget name="NorseLegend-Myth Unit" type="formatText" textfont="TechTree" textfontsize="11" textcolor="255 255 255" size1024="48 681 163 701" z="17">$$19164$$Myth Unit</gadget>
</gadget>
</gadget>


"""
import xml.etree.ElementTree as ET
import os

AOM_PATH = "/mnt/c/Program Files (x86)/Steam/steamapps/common/Age of Mythology/"
if not os.path.exists(AOM_PATH):
    AOM_PATH = "C:\\Program Files (x86)\\Steam\\steamapps\\common\\Age of Mythology\\"
AOM_VERSION = "2.8"

class ProtoUnitDatabase:
    def __init__(self):
        proto_unit_path = AOM_PATH + os.sep + "data" + os.sep + "proto" + AOM_VERSION + ".xml"
        tree = ET.parse(proto_unit_path)
        self.tree = tree
        self.units = tree.findall("unit")
        # Language path for translating displayid
        en_lang_path = AOM_PATH + os.sep + "Language" + os.sep + "en" + os.sep + "en-language.txt"
        with open(en_lang_path, 'r', encoding="utf-16-le") as f:
            lang_lines = f.readlines()
        self.display_map = {}
        for line in lang_lines:
            tokens = line.split()
            if len(tokens) > 1:
                if tokens[0].isdigit():
                    display_id = int(tokens[0])
                    text = line[len(tokens[0]):].strip()
                    self.display_map[display_id] = text[1:-1]
                
    
    def get_name(self, id):
        for unit in self.units:
            if int(unit.attrib["id"]) == id:
                return unit.attrib["name"]

    def get_displayname(self, id):
        for unit in self.units:
            if int(unit.attrib["id"]) == id:
                display_id = int(unit.find("displaynameid").text)
                return self.display_map[display_id]
    
class Pos:

    def __init__(self, x1, y1, x2, y2):
        self.x1 = x1
        self.x2 = x2
        self.y1 = y1
        self.y2 = y2

    def four(self):
        return str(self.x1) + " " + str(self.y1) +  " " + str(self.x2) + " " + str(self.y2)

database = ProtoUnitDatabase()

class Row:
    def __init__(self, archaic, classical, heroic, mythic):
        self.archaic = archaic
        self.classical = classical
        self.heroic = heroic
        self.mythic = mythic


def gen_one(god, tech, pos):
    return '\t<gadget name="FakeTechTree-' + god + '-TechNode-' + tech + "\"" +\
        ' type="button" size1024="' + pos.four()+'">' + tech+"</gadget>" +'\n'

def gen_era(god_name, techs, x_start, x_width, x_gap, y_start, y_height):
    gadget = ""
    for tech_name in techs:
        pos = Pos(x_start, y_start, x_start + x_width, y_start + y_height)
        gadget += gen_one(god_name, tech_name, pos)
        x_start += x_gap
    return gadget
        


def get_god_gadget(god_name, gods, rows):
    gadget = ""
    gadget += '<gadget name="FakeTechTree-'+god_name+'" type="gadget" size1024="0 0 1024 768" hidden="">' + '\n'
    # First, let's align our rows.
    col1 = 24
    col2 = 244
    col3 =  557
    col4 = 845
    y1 = 255
    y_height = 34
    y_gap = 54
    x_gap = 41
    x_width = 32

    for god in gods:
        pass
    
    for row in rows:
        x_start = col1
        y_start = y1
        # y2 = 
        gadget += gen_era(god_name, row.archaic, x_start, x_width, x_gap, y_start, y_height)
        
        x_start = col2
        gadget += gen_era(god_name, row.classical, x_start, x_width, x_gap, y_start, y_height)

        x_start = col3
        gadget += gen_era(god_name, row.heroic, x_start, x_width, x_gap, y_start, y_height)

        x_start = col4
        gadget += gen_era(god_name, row.mythic, x_start, x_width, x_gap, y_start, y_height)

        gadget+= '\n'
        y_start += y_gap

    return gadget

LOKI_NAME = "Loki"
tcRow = Row(["Settlement Level 1", "Villager", "Dwarf", "Ulfsark", "Ox Cart"],
            ["Masons"],
            ["Architects", "Fortify Town Center"],
            [])


oxRow = Row(["Ox Cart", "Husbandry", "Hunting Dogs", "Hand Axe", "Pickaxe"],
            ["Plow", "Bow Saw", "Shaft Mine"], 
            ["Irrigation", "Carpenters", "Quarry"],
            ["Flood Control"])


gad = get_god_gadget(LOKI_NAME, [], [tcRow, oxRow])
print(gad)